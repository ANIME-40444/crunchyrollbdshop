<!DOCTYPE html><html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Panel - Crunchyroll BD</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f5f5f5;
      padding: 20px;
      color: #333;
    }
    .container {
      max-width: 800px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center;
      color: #ff6600;
    }
    label {
      font-weight: bold;
    }
    input, textarea {
      width: 100%;
      padding: 10px;
      margin: 10px 0 20px;
      border: 1px solid #ccc;
      border-radius: 6px;
      box-sizing: border-box;
    }
    button {
      background: #ff6600;
      color: white;
      padding: 12px 20px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background: #e65c00;
    }
    .logout {
      float: right;
      color: red;
      cursor: pointer;
    }
  </style>
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
</head>
<body>
  <div class="container">
    <h1>ğŸ› ï¸ Admin Panel</h1>
    <div class="logout" onclick="logout()">Logout</div>
    <div id="loginSection">
      <p>Logging in with Google...</p>
    </div><div id="adminContent" style="display:none">
  <label>ğŸ”¤ Website Title:</label>
  <input type="text" id="siteTitle" />

  <label>ğŸ“ Description:</label>
  <textarea id="siteDescription" rows="5"></textarea>

  <label>ğŸ¨ Background Color:</label>
  <input type="color" id="bgColor" />

  <label>ğŸ–ï¸ Text Color:</label>
  <input type="color" id="textColor" />

  <label>ğŸ–¼ï¸ Banner Image URL:</label>
  <input type="text" id="bannerUrl" />

  <button onclick="saveChanges()">ğŸ’¾ Save Changes</button>
  <p id="saveMsg"></p>
</div>

  </div><script>
  // Firebase config
  const firebaseConfig = {
    apiKey: 'AIzaSyDDvKtm-Mu_12pDLo_9bPvLOusx6YyoYI4',
    authDomain: 'crunchyrollpremiumbd-shop.firebaseapp.com',
    projectId: 'crunchyrollpremiumbd-shop',
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();

  const adminEmail = "your_admin_email@gmail.com"; // âœ³ï¸ à¦à¦–à¦¾à¦¨à§‡ à¦¤à§‹à¦®à¦¾à¦° Gmail à¦¬à¦¸à¦¾à¦“

  auth.onAuthStateChanged(user => {
    if (user && user.email === adminEmail) {
      document.getElementById('loginSection').style.display = 'none';
      document.getElementById('adminContent').style.display = 'block';
      loadContent();
    } else {
      const provider = new firebase.auth.GoogleAuthProvider();
      auth.signInWithPopup(provider);
    }
  });

  function logout() {
    firebase.auth().signOut();
    location.reload();
  }

  function loadContent() {
    db.collection('siteContent').doc('homepage').get().then(doc => {
      const d = doc.data();
      document.getElementById('siteTitle').value = d.title || '';
      document.getElementById('siteDescription').value = d.description || '';
      document.getElementById('bgColor').value = d.backgroundColor || '#ffffff';
      document.getElementById('textColor').value = d.textColor || '#000000';
      document.getElementById('bannerUrl').value = d.bannerUrl || '';
    });
  }

  function saveChanges() {
    const data = {
      title: document.getElementById('siteTitle').value,
      description: document.getElementById('siteDescription').value,
      backgroundColor: document.getElementById('bgColor').value,
      textColor: document.getElementById('textColor').value,
      bannerUrl: document.getElementById('bannerUrl').value,
    };
    db.collection('siteContent').doc('homepage').set(data).then(() => {
      document.getElementById('saveMsg').textContent = 'âœ… Save successful!';
    });
  }
</script></body>
</html>
